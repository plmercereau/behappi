{
  "name": "mission",
  "type": "document",
  "mixins": ["timestamp", "workflow"],
  "collection": "missions",
  "title": {
    "property": "name"
  },
  "versionable": true,
  "properties": {
    "name": {
      "type": "string",
      "title": "Name",
      "placeholder": "Please enter the name of the mission",
      "validation": "required|min:3"
    },
    "location": {
      "type": "location",
      "title": "Area of the mission",
      "placeholder": "Please give the area of the mission",
      "zoom": "zoom",
      "markers": {
        "self": false,
        "collection": "projects",
        "property": "location"
      }
    },
    "projects" : {
      "type": "collection",
      "component": "card",
      "schemaName": "project",
      "title": "Projects of the mission",
      "sort": [["name", "ASC"]],
      "placeholder": "",
      "unique": false,
      "create": true
    }
  },
  "itemView": {
    "default": {
      "sectionsOrder": ["main", "administration"],
      "sections": {
        "main": {
          "title": {
            "property": "name"
          },
          "subtitles": ["projects"],
          "read": ["name", "location",  "status", "projects"],
          "edit": ["name", "location", "status"]
        }
      }
    }
  },
  "collectionView": {
    "default": {
      "title": "Missions",
      "uri": "/missions/{id}",
      "create": {
        "title": "New mission"
      }
    },
    "card" : {
      "media": {
        "property": "location"
      }
    }
  }
}
